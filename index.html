<!doctype html>
<html lang="ja">
  <head>
    <script src="scripts/header.js"></script>
    <script>
      HeaderUtils.generateHead('Adventure Game Page');
    </script>
  </head>
  <body class="index-page">
    <script>
      const header = HeaderUtils.generateHeader('Adventure Game Page', [
        { text: '学ぶ', href: 'learn.html' },
        { text: '管理', href: 'admin.html' },
        { text: 'プレイ', href: 'play.html', class: 'btn btn-accent' }
      ]);
      document.body.insertBefore(header, document.body.firstChild);
    </script>

    <main>
      <section class="hero" style="padding: 64px 16px; text-align: center; background: radial-gradient(1200px 600px at 50% -10%, rgba(68,147,248,.18), transparent), linear-gradient(to bottom, rgba(124,58,237,.10), transparent);">
        <div class="container">
          <h2 style="font-size: 36px; margin: 0 0 12px;">AdventureGamePage Studio</h2>
          <p class="muted" style="margin: 0 0 20px; font-size: 16px;">分岐シナリオを設計・管理・検証するための内製クリエイティブワークスペース。</p>
          <div style="display: inline-flex; gap: 8px; flex-wrap: wrap;">
            <a class="btn btn-accent" href="learn.html">ドキュメント</a>
            <a class="btn" href="admin.html">エディタを起動</a>
            <a class="btn" href="play.html">プレイテスト</a>
          </div>
        </div>
      </section>

      <section class="container" style="margin-top: 24px;">
        <div class="card" style="margin-bottom: 16px;">
          <h3>コア</h3>
          <div style="display: grid; gap: 12px; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));">
            <div class="card"><strong>ノードベース</strong><br/><span class="muted">分岐・条件・アクションで物語を設計</span></div>
            <div class="card"><strong>即時プレビュー</strong><br/><span class="muted">保存→プレイで即テスト</span></div>
            <div class="card"><strong>拡張可能</strong><br/><span class="muted">テーマ・プラグインで進化</span></div>
          </div>
        </div>
        <div class="card">
          <h3>はじめる</h3>
          <p class="muted">初めての方は「学ぶ」から。実例とともに最短で制作フローを体験できます。</p>
          <div style="display:flex; gap: 8px;">
            <a class="btn btn-primary" href="learn.html">サンプルを見る</a>
            <a class="btn" href="admin.html">執筆を開始</a>
          </div>
        </div>
      </section>
    </main>

    <div id="theme-panel" class="theme-panel" hidden></div>

    <script src="scripts/storage.js"></script>
    <script src="scripts/themeUtils.js"></script>
    <script src="scripts/themeUIManager.js"></script>
    <script src="scripts/themeLogicManager.js"></script>
    <script src="scripts/theme.js"></script>

    <!-- ページ固有の初期化 -->
    <script>
      // メインページ用の初期化
      document.addEventListener('DOMContentLoaded', function() {
        // 他のページの要素が残っている可能性があるため、強制的に非表示
        const adminElements = [
          'preview-panel', 'memos-panel', 'mermaid-fullscreen-modal',
          'playtest-modal', 'node-editor-modal', 'mermaid-inline-panel'
        ];
        const playElements = [
          'save-slots-panel', 'inventory-panel', 'save-load-modal'
        ];

        adminElements.forEach(id => {
          const el = document.getElementById(id);
          if (el) {
            el.style.display = 'none !important';
            el.hidden = true;
            el.setAttribute('aria-hidden', 'true');
            el.setAttribute('inert', '');
          }
        });

        playElements.forEach(id => {
          const el = document.getElementById(id);
          if (el) {
            el.style.display = 'none !important';
            el.hidden = true;
            el.setAttribute('aria-hidden', 'true');
            el.setAttribute('inert', '');
          }
        });

        console.log('[INDEX] Page-specific elements hidden for index.html');
      });
    </script>
  </body>
  </html>
