# Choices-Driven Development Log

このドキュメントは本プロジェクトにおける意思決定を継続的に記録するためのログです。各決定は選択肢・採用理由・代替案・リスク・次アクションを含みます。

## 2025-09-20 初期MVPの設計方針
- 決定: サーバー不要の静的サイト（HTML/CSS/JS）で構築
- 選択肢:
  - A. 静的サイト（採用）
  - B. SPAフレームワーク（React/Next/Svelteなど）
  - C. デスクトップアプリ（Electron/Tauri）
- 採用理由:
  - ブラウザで開くだけで確認できる利点
  - 学習コスト/運用コストが最小
  - 将来の拡張（SPA化）に段階的に移行可能
- 代替案:
  - SPA化して高度な分岐エディタを提供（将来）
- リスク:
  - 大規模化時の状態管理の複雑化
- 次アクション:
  - 分岐データのフォーマット定義と相互変換の検討（Mermaid/PlantUML）

---
- 決定: テーマは CSS 変数とプリセット＋カラーピッカーで実装
- 選択肢:
  - A. CSS変数（採用）
  - B. CSS-in-JS
- 採用理由:
  - 依存を増やさず軽量
- リスク:
  - コンポーネント粒度のテーマ分離は今後の設計次第
- 次アクション:
  - 要素別（背景/文字/リンク/コントロール）適用の詳細設計

---
- 決定: 保存は localStorage をベースに JSON エクスポート/インポートを併用
- 選択肢:
  - A. localStorage + JSONファイル（採用）
  - B. IndexedDB
  - C. サーバーDB
- 採用理由:
  - サーバー不要の要件に適合
- リスク:
  - 容量制限/ブラウザ依存
- 次アクション:
  - IndexedDB への拡張パス調査

---
- 決定: エディタは contenteditable ベースの Zen ライクUI
- 選択肢:
  - A. contenteditable（採用）
  - B. Markdown エディタ
  - C. カスタムリッチテキストエディタ
- 採用理由:
  - 実装負荷が最小、直感的
- リスク:
  - ブラウザ差異/操作の微妙な違い
- 次アクション:
  - 将来的に Markdown 対応や縦書き対応の検討

---
- 決定: ゲームエンジンはノード/選択肢のみの最小構成から開始
- 選択肢:
  - A. 最小構成（採用）
  - B. スクリプト機能/フラグ/プロパティを初回から導入
- 採用理由:
  - MVPでの検証を優先
- リスク:
  - 拡張時の互換性維持
- 次アクション:
  - 分岐表現と相互変換APIのデザイン

---

## 2025-10-14 リポジトリ安定化とバックログ同期
- 決定: mainブランチを最新化し、ローカル環境を中央リポジトリと整合
- 選択肢:
  - A. mainのみ更新（採用）
  - B. 全ブランチを一括リベース
- 採用理由:
  - 影響範囲を限定し、安全に最新差分を取り込める
  - `feature/13-admin-mermaid-preview` など他ブランチは後続で段階的に対応可能
- リスク:
  - mainと派生ブランチの差分が広がる可能性
- 次アクション:
  - 残タスク: 各作業ブランチで main の差分を取り込み、コンフリクトを解消
  - ドキュメント: `docs/ISSUES.md` の更新内容を継続的に反映
